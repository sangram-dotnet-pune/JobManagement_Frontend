<div class="applied-container">
  <!-- Loading -->
  <div class="state-msg" *ngIf="loading()">
    <span class="material-icons icon-muted">hourglass_top</span>
    Loading applied jobs...
  </div>

  <!-- Error -->
  <div class="state-msg error" *ngIf="!loading() && errorMessage()">
    <span class="material-icons icon-muted">error_outline</span>
    {{ errorMessage() }}
  </div>

  <!-- Empty -->
  <div class="state-msg" *ngIf="!loading() && appliedJobs().length === 0">
    <span class="material-icons icon-muted">work_off</span>
    You have not applied to any jobs yet.
  </div>

  <!-- Applied Jobs List -->
  <div class="job-card" *ngFor="let job of appliedJobs()">
    <div class="job-header">
      <h3>
        <span class="material-icons icon-jobs">work_outline</span>
        {{ job.jobTitle }}
      </h3>

      <span class="status-badge" [ngClass]="(job.status || 'APPLIED').toLowerCase()">
        <span class="material-icons">
          {{
            job.status === 'APPROVED'
              ? 'check_circle'
              : job.status === 'REJECTED'
                ? 'cancel'
                : 'schedule'
          }}
        </span>

        {{
          job.status === 'APPROVED'
            ? 'Shortlisted'
            : job.status === 'REJECTED'
              ? 'Rejected'
              : 'Under Review'
        }}
      </span>
    </div>

    <p class="meta">
      <span class="material-icons icon-location">location_on</span>
      {{ job.location }}

      <span class="separator">|</span>

      <span class="material-icons icon-job">business_center</span>
      {{ job.employmentType }}
    </p>

    <p class="salary">
      <span class="material-icons icon-salary">currency_rupee</span>
      {{ job.minSalary }} - {{ job.maxSalary }}
    </p>

    <small class="applied-date">
      <span class="material-icons icon-muted">event</span>
      Applied on {{ job.appliedAt | date: 'mediumDate' }}
    </small>
  </div>
</div>
